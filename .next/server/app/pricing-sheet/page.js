(()=>{var e={};e.id=105,e.ids=[105],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},7269:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>l.a,__next_app__:()=>p,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d});var n=a(482),r=a(9108),s=a(2563),l=a.n(s),i=a(8300),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);a.d(t,o);let d=["",{children:["pricing-sheet",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,2471)),"C:\\Users\\ofran\\Desktop\\Pricing Sheet\\src\\app\\pricing-sheet\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,1342)),"C:\\Users\\ofran\\Desktop\\Pricing Sheet\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9361,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\ofran\\Desktop\\Pricing Sheet\\src\\app\\pricing-sheet\\page.tsx"],m="/pricing-sheet/page",p={require:a,loadChunk:()=>Promise.resolve()},u=new n.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/pricing-sheet/page",pathname:"/pricing-sheet",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4160:(e,t,a)=>{Promise.resolve().then(a.bind(a,7235))},7235:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>x});var n=a(2295),r=a(3729),s=a(79);function l({onLoadMockData:e,onResetData:t,onRowsParsed:l}){let[i,o]=(0,r.useState)("");async function d(e){let t=e[0];if(!t)return;o(`ðŸ“‚ Processing ${t.name}...`);let n=t.name.split(".").pop()?.toLowerCase();if("csv"===n){let e=await t.text(),a=(0,s.mf)(e);if(!a.success){o(`âŒ ${a.errors.join("; ")}`);return}let n=`âœ… Loaded ${a.data.length} rows`;if(a.warnings.length>0){let e=a.warnings.slice(0,2).join("; ");n+=` âš ï¸ ${e}`,a.warnings.length>2&&(n+=` (+ ${a.warnings.length-2} more)`)}o(n),l?.(a.data);return}if("xlsx"===n||"xls"===n){try{let e=await Promise.resolve().then(a.bind(a,8292)),n=await t.arrayBuffer(),r=e.read(n),i=r.SheetNames[0],d=r.Sheets[i],c=e.utils.sheet_to_csv(d);console.log("\uD83D\uDCCA Excel converted to CSV, first 500 chars:",c.substring(0,500));let m=(0,s.mf)(c);if(!m.success){o(`âŒ ${m.errors.join("; ")}`);return}let p=`âœ… Loaded ${m.data.length} rows`;if(m.warnings.length>0){let e=m.warnings.slice(0,2).join("; ");p+=` âš ï¸ ${e}`,m.warnings.length>2&&(p+=` (+ ${m.warnings.length-2} more)`)}o(p),l?.(m.data)}catch(e){o(`âŒ Error: ${e}`)}return}o("âŒ Unsupported file type")}return(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow p-2",children:[n.jsx("h2",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Upload"}),(0,n.jsxs)("div",{className:"space-y-2",children:[n.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded p-2 text-center hover:border-gray-400 transition-colors cursor-pointer",onClick:()=>document.getElementById("file-upload")?.click(),children:(0,n.jsxs)("div",{className:"text-gray-600",children:[n.jsx("p",{className:"font-medium text-xs",children:"CSV/Excel"}),n.jsx("p",{className:"text-[10px]",children:"Click or drag"})]})}),n.jsx("input",{id:"file-upload",type:"file",multiple:!1,accept:".csv,.xlsx,.xls",className:"hidden",onChange:e=>{let t=e.target.files;t&&t.length>0&&d(t)}}),n.jsx("div",{className:"bg-blue-50 rounded p-1.5",children:n.jsx("p",{className:"text-[10px] text-blue-800",children:"CSV, XLSX, XLS"})}),(0,n.jsxs)("div",{className:"space-y-1",children:[n.jsx("button",{className:"w-full bg-green-600 hover:bg-green-700 text-white text-[10px] font-medium py-1 px-1 rounded transition-colors",children:"Process"}),n.jsx("button",{onClick:e,className:"w-full bg-blue-600 hover:bg-blue-700 text-white text-[10px] font-medium py-1 px-1 rounded transition-colors",children:"Load Mock"}),n.jsx("button",{onClick:t,className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 text-[10px] font-medium py-1 px-1 rounded transition-colors",children:"Clear"})]})]}),i&&n.jsx("div",{className:`mt-2 p-1.5 rounded text-[9px] leading-tight ${i.includes("âœ…")?"bg-green-50 text-green-800":i.includes("âŒ")?"bg-red-50 text-red-800":i.includes("\uD83D\uDCC2")?"bg-blue-50 text-blue-800":"bg-yellow-50 text-yellow-800"}`,children:i}),n.jsx("div",{className:"mt-2 bg-yellow-50 rounded p-1.5",children:n.jsx("p",{className:"text-yellow-800 text-[9px] leading-tight",children:"Auto-populates sheet with matching columns"})})]})}a(7034);let i={pricing:{label:"\uD83D\uDCCA Pricing",columns:[{key:"gender",label:"Gender",type:"select"},{key:"age",label:"Age",type:"number"},{key:"firstName",label:"First Name",type:"text"},{key:"lastName",label:"Last Name",type:"text"},{key:"insuranceCompany",label:"Insurance Co.",type:"text"},{key:"typeOfPayment",label:"Payment Type",type:"select"},{key:"paymentFrequency",label:"Frequency",type:"select"},{key:"paymentStartDate",label:"Start Date",type:"date"},{key:"paymentEndDate",label:"End Date",type:"date"},{key:"paymentAmount",label:"Amount",type:"number"},{key:"annualIncrease",label:"Ann Inc",type:"number"},{key:"paymentCount",label:"# Payments",type:"number"},{key:"lowRange",label:"Low Range",type:"number"},{key:"highRange",label:"High Range",type:"number"},{key:"deathBenefits",label:"Death Ben.",type:"number"}]},contact:{label:"\uD83D\uDCDE Contact",columns:[{key:"crmId",label:"CRM ID",type:"text"},{key:"phone1",label:"Phone 1",type:"text"},{key:"phone2",label:"Phone 2",type:"text"},{key:"phone3",label:"Phone 3",type:"text"}]},address:{label:"\uD83D\uDCCD Address",columns:[{key:"fullAddress",label:"Full Address",type:"text"},{key:"streetAddress1",label:"Street 1",type:"text"},{key:"streetAddress2",label:"Street 2",type:"text"},{key:"city",label:"City",type:"text"},{key:"state",label:"State",type:"text"},{key:"zipCode",label:"ZIP Code",type:"text"}]}};i.pricing.columns;let o=({rowCount:e})=>e<=2e3?null:n.jsx("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:(0,n.jsxs)("div",{className:"flex",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:n.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,n.jsxs)("div",{className:"ml-3",children:[n.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Large Dataset Detected"}),(0,n.jsxs)("div",{className:"mt-2 text-sm text-yellow-700",children:[(0,n.jsxs)("p",{children:["Your dataset contains ",e.toLocaleString()," rows. For optimal performance, consider:"]}),(0,n.jsxs)("ul",{className:"mt-1 list-disc list-inside",children:[n.jsx("li",{children:"Processing in smaller batches (e.g., 500-1000 rows)"}),n.jsx("li",{children:"Using pagination to navigate through results"}),n.jsx("li",{children:"Filtering data before upload if possible"})]})]})]})]})});function d({rows:e,updateRow:t,onExportOffersOnly:a}){let[s,l]=(0,r.useState)("pricing"),[d,c]=(0,r.useState)(1),[m]=(0,r.useState)(50),p=i[s]?.columns||i.pricing.columns,u=Math.ceil(e.length/m),g=(d-1)*m,y=g+m,h=e.slice(g,y),x=e.reduce((e,t)=>(t.highRange&&""!==t.highRange&&"No Offer"!==t.highRange?e.offers++:"No Offer"===t.highRange&&e.noOffers++,e),{offers:0,noOffers:0}),f=e=>"No Offer"===e.highRange||"No Offer"===e.lowRange,b=e=>{if(!e||"0"===e||""===e)return"";let t=parseFloat(e.replace(/[,$]/g,""));return isNaN(t)?e:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(t)},N=(e,a)=>{let r=e[a.key]||"";if("select"===a.type&&"gender"===a.key)return(0,n.jsxs)("select",{id:`${a.key}-${e.id}`,name:`${a.key}-${e.id}`,value:r,onChange:n=>t(e.id,a.key,n.target.value),className:"pricing-field-input",children:[n.jsx("option",{value:"",children:"Select"}),n.jsx("option",{value:"male",children:"Male"}),n.jsx("option",{value:"female",children:"Female"})]});if("select"===a.type&&"typeOfPayment"===a.key)return(0,n.jsxs)("select",{id:`${a.key}-${e.id}`,name:`${a.key}-${e.id}`,value:r,onChange:n=>t(e.id,a.key,n.target.value),className:"pricing-field-input",children:[n.jsx("option",{value:"",children:"Select"}),n.jsx("option",{value:"LCP",children:"LCP"}),n.jsx("option",{value:"GP",children:"GP"})]});if("select"===a.type&&"paymentFrequency"===a.key)return(0,n.jsxs)("select",{id:`${a.key}-${e.id}`,name:`${a.key}-${e.id}`,value:r,onChange:n=>t(e.id,a.key,n.target.value),className:"pricing-field-input",children:[n.jsx("option",{value:"",children:"Select"}),n.jsx("option",{value:"Monthly",children:"Monthly"}),n.jsx("option",{value:"Quarterly",children:"Quarterly"}),n.jsx("option",{value:"Semiannually",children:"Semi-Annually"}),n.jsx("option",{value:"Annually",children:"Annually"}),n.jsx("option",{value:"Lump Sum",children:"Lump Sum"})]});if("date"===a.type)return n.jsx("input",{id:`${a.key}-${e.id}`,name:`${a.key}-${e.id}`,type:"date",value:r,onChange:n=>t(e.id,a.key,n.target.value),className:"pricing-field-input pricing-date-input",placeholder:""});if("paymentCount"===a.key)return n.jsx("input",{id:`${a.key}-${e.id}`,name:`${a.key}-${e.id}`,type:"text",value:r||"",readOnly:!0,className:"pricing-field-input pricing-currency-input",placeholder:"Auto",title:"Number of Payments - Automatically calculated based on frequency and dates"});if(["lowRange","highRange","deathBenefits"].includes(a.key)){let s=b(r||"");return n.jsx("input",{id:`${a.key}-${e.id}`,name:`${a.key}-${e.id}`,type:"text",value:s||"",onChange:n=>{let r=n.target.value.replace(/[,$]/g,"");t(e.id,a.key,r)},className:"pricing-field-input pricing-currency-input",placeholder:"Output value",title:`Calculated ${a.label} - This field will be populated by the calculator`})}if("paymentAmount"===a.key){let s=b(r||"");return n.jsx("input",{id:`${a.key}-${e.id}`,name:`${a.key}-${e.id}`,type:"text",value:s||"",onChange:n=>{let r=n.target.value.replace(/[,$]/g,"");t(e.id,a.key,r)},className:"pricing-field-input",placeholder:"$0.00",title:"Payment Amount - Enter the payment amount"})}if("annualIncrease"===a.key){let s=parseFloat(r||"0")||0;return n.jsx("input",{id:`${a.key}-${e.id}`,name:`${a.key}-${e.id}`,type:"number",value:s,onChange:n=>{let r=parseFloat(n.target.value)||0;t(e.id,a.key,r.toString())},className:"pricing-field-input",placeholder:"0",title:`${a.label} - Always 0% (percentage)`,min:"0",max:"0",step:"1"})}return n.jsx("input",{id:`${a.key}-${e.id}`,name:`${a.key}-${e.id}`,type:a.type,value:r||"",onChange:n=>t(e.id,a.key,n.target.value),className:"pricing-field-input",placeholder:`Enter ${a.label.toLowerCase()}`})};return(0,n.jsxs)("div",{className:"pricing-fields-container",children:[n.jsx(o,{rowCount:e.length}),(x.offers>0||x.noOffers>0)&&(0,n.jsxs)("div",{className:"mb-3 flex items-center justify-between bg-white p-3 rounded-lg shadow-sm border border-gray-200",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Lead Stats:"})}),(0,n.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1 bg-green-50 border border-green-200 rounded",children:[n.jsx("span",{className:"text-sm font-medium text-green-800",children:"Offers:"}),n.jsx("span",{className:"text-sm font-bold text-green-900",children:x.offers})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1 bg-red-50 border border-red-200 rounded",children:[n.jsx("span",{className:"text-sm font-medium text-red-800",children:"No Offers:"}),n.jsx("span",{className:"text-sm font-bold text-red-900",children:x.noOffers})]})]}),x.offers>0&&a&&(0,n.jsxs)("button",{onClick:a,className:"bg-green-600 hover:bg-green-700 text-white text-sm font-medium py-2 px-4 rounded-lg transition-colors shadow-sm flex items-center gap-2",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export Offers Only"]})]}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-3",children:n.jsx("div",{className:"border-b border-gray-200",children:n.jsx("nav",{className:"-mb-px flex space-x-8 px-4",children:Object.entries(i).map(([e,t])=>n.jsx("button",{onClick:()=>l(e),className:`py-3 px-1 border-b-2 font-medium text-sm transition-colors ${s===e?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:t.label},e))})})}),n.jsx("div",{className:"pricing-fields-wrapper",children:n.jsx("div",{className:"pricing-fields-scroll-area",children:(0,n.jsxs)("table",{className:"pricing-fields-table",children:[n.jsx("thead",{children:n.jsx("tr",{children:p.map(e=>{let t=["paymentCount","lowRange","highRange","deathBenefits"].includes(e.key);return n.jsx("th",{className:t?"pricing-output-header":"pricing-input-header",children:n.jsx("div",{className:"pricing-header-content",title:e.label,children:e.label})},e.key)})})}),n.jsx("tbody",{children:h.map((e,t)=>n.jsx("tr",{className:`pricing-table-row ${t%2==0?"pricing-row-even":"pricing-row-odd"} ${f(e)?"pricing-row-no-offer":""}`,children:p.map(t=>n.jsx("td",{className:"pricing-table-cell",children:n.jsx("div",{className:"pricing-cell-content",children:N(e,t)})},t.key))},e.id))})]})})}),e.length>m&&(0,n.jsxs)("div",{className:"mt-4 flex items-center justify-between bg-white px-4 py-3 border-t border-gray-200",children:[(0,n.jsxs)("div",{className:"text-sm text-gray-700",children:["Showing ",g+1," to ",Math.min(y,e.length)," of ",e.length," entries"]}),(0,n.jsxs)("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>c(Math.max(1,d-1)),disabled:1===d,className:"px-3 py-1 border border-gray-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),(0,n.jsxs)("span",{className:"px-3 py-1 text-sm text-gray-700",children:["Page ",d," of ",u]}),n.jsx("button",{onClick:()=>c(Math.min(u,d+1)),disabled:d===u,className:"px-3 py-1 border border-gray-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]})}let c=e=>{let[t,a,n]=e.split("/");return`${n}-${t.padStart(2,"0")}-${a.padStart(2,"0")}`},m=e=>e.replace(/[,$]/g,""),p=Array.from({length:5},(e,t)=>({id:`row-${t+1}`,gender:"",age:"",firstName:"",lastName:"",insuranceCompany:"",typeOfPayment:"",paymentFrequency:"",paymentStartDate:"",paymentEndDate:"",paymentAmount:"",annualIncrease:"0",paymentCount:"",lowRange:"",highRange:"",deathBenefits:"",crmId:"",phone1:"",phone2:"",phone3:"",fullAddress:"",streetAddress1:"",streetAddress2:"",city:"",state:"",zipCode:""})),u=()=>{let e=[];return[{gender:"male",age:"40",firstName:"Saleh",lastName:"Abdullah",insuranceCompany:"American Home Life Insurance Company",paymentType:"LCP",paymentFrequency:"Monthly",startDate:"5/1/2026",endDate:"5/1/2054",amount:"4090.86",annualIncrease:"0"},{gender:"male",age:"44",firstName:"Martha",lastName:"Abreu",insuranceCompany:"New York Life",paymentType:"LCP",paymentFrequency:"Monthly",startDate:"1/2/2026",endDate:"1/2/2054",amount:"4062.82",annualIncrease:"0"},{gender:"male",age:"43",firstName:"Ramon",lastName:"Acevedo",insuranceCompany:"GABC",paymentType:"GP",paymentFrequency:"Quarterly",startDate:"9/15/2026",endDate:"9/15/2054",amount:"1800.00",annualIncrease:"2"},{gender:"male",age:"53",firstName:"Robert",lastName:"Acken",insuranceCompany:"John Hancock",paymentType:"LCP",paymentFrequency:"Monthly",startDate:"1/1/2026",endDate:"1/1/2043",amount:"4062.82",annualIncrease:"0"},{gender:"female",age:"58",firstName:"Brian",lastName:"Ackley",insuranceCompany:"Symetra",paymentType:"LCP",paymentFrequency:"Monthly",startDate:"1/1/2026",endDate:"1/1/2040",amount:"4644.68",annualIncrease:"0"},{gender:"female",age:"36",firstName:"Bonnie",lastName:"Acosta",insuranceCompany:"Transamerica",paymentType:"LCP",paymentFrequency:"Monthly",startDate:"9/9/2044",endDate:"9/9/2054",amount:"8470.43",annualIncrease:"3"},{gender:"male",age:"57",firstName:"John",lastName:"Adams",insuranceCompany:"Nationwide",paymentType:"GP",paymentFrequency:"Annually",startDate:"10/1/2029",endDate:"10/1/2040",amount:"4500.00",annualIncrease:"1"},{gender:"male",age:"44",firstName:"Michael",lastName:"Adams",insuranceCompany:"Commonwealth",paymentType:"LCP",paymentFrequency:"Monthly",startDate:"5/7/2040",endDate:"5/7/2054",amount:"1673.80",annualIncrease:"0"},{gender:"female",age:"55",firstName:"Sherrie",lastName:"Adams",insuranceCompany:"Transamerica",paymentType:"LCP",paymentFrequency:"Monthly",startDate:"5/27/2026",endDate:"5/27/2049",amount:"2994.99",annualIncrease:"0"},{gender:"male",age:"52",firstName:"Jon",lastName:"Addison",insuranceCompany:"Symetra",paymentType:"LCP",paymentFrequency:"Monthly",startDate:"1/1/2026",endDate:"1/1/2049",amount:"1813.94",annualIncrease:"0"}].forEach((t,a)=>{e.push({id:`row-${a+1}`,gender:t.gender,age:t.age,firstName:t.firstName,lastName:t.lastName,insuranceCompany:t.insuranceCompany,typeOfPayment:t.paymentType,paymentFrequency:t.paymentFrequency,paymentStartDate:c(t.startDate),paymentEndDate:c(t.endDate),paymentAmount:m(t.amount),annualIncrease:t.annualIncrease,paymentCount:"",lowRange:"",highRange:"",deathBenefits:"",crmId:"",phone1:"",phone2:"",phone3:"",fullAddress:"",streetAddress1:"",streetAddress2:"",city:"",state:"",zipCode:""})}),e},g="pricing-sheet-data";function y(e){try{let t={version:"1.0",timestamp:Date.now(),rows:e};localStorage.setItem(g,JSON.stringify(t)),console.log(`ðŸ’¾ Saved ${e.length} rows to localStorage`)}catch(e){console.error("âŒ Failed to save to localStorage:",e)}}function h(){try{localStorage.removeItem(g),console.log("\uD83D\uDCBE Cleared pricing data from localStorage")}catch(e){console.error("âŒ Failed to clear localStorage:",e)}}function x(){let[e,t]=(0,r.useState)(p),[a,i]=(0,r.useState)("");(0,r.useEffect)(()=>{let e=function(){try{let e=localStorage.getItem(g);if(!e)return console.log("\uD83D\uDCBE No saved data found in localStorage"),null;let t=JSON.parse(e);if("1.0"!==t.version)return console.warn(`ðŸ’¾ Version mismatch: ${t.version} vs 1.0, clearing old data`),h(),null;let a=Date.now()-t.timestamp;return console.log(`ðŸ’¾ Loaded ${t.rows.length} rows from localStorage (${(a/36e5).toFixed(1)} hours old)`),t.rows}catch(e){return console.error("âŒ Failed to load from localStorage:",e),h(),null}}();if(e&&e.length>0){t(e);let a=function(){try{let e=localStorage.getItem(g);if(!e)return null;let t=JSON.parse(e),a=Date.now()-t.timestamp,n=new Blob([e]).size;return{size:n>1024?`${(n/1024).toFixed(1)}KB`:`${n}B`,age:`${(a/36e5).toFixed(1)}h old`}}catch(e){return null}}();a&&i(`ðŸ’¾ Loaded ${e.length} rows (${a.age})`)}else i("")},[]);let o=e=>{"function"==typeof e?t(t=>{let a=e(t);return y(a),a}):(t(e),y(e))};return n.jsx("div",{className:"min-h-screen bg-gray-50 p-2 md:p-3",children:(0,n.jsxs)("div",{className:"max-w-full mx-auto",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-3 md:mb-4",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[n.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Pricing Sheet"}),a&&n.jsx("div",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:a})]}),(0,n.jsxs)("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:()=>{o(e=>e.map(e=>{if(e.gender&&e.age&&e.typeOfPayment&&e.paymentStartDate&&e.paymentEndDate&&e.paymentAmount){let t=function(e){if(!(0,s.v2)(e))return{paymentCount:"",lowRange:"",highRange:"",deathBenefits:""};let t=e.typeOfPayment,a=parseInt(e.age),n=e.gender,r=parseFloat(e.paymentAmount),l=e.paymentStartDate,i=e.paymentEndDate;try{let o=(0,s.g9)(t),d="GP"===t?0:(0,s.pH)(a,n),c="LCP"===t?(0,s.dE)(a,n):[],{minOffer:m,maxOffer:p}=(0,s._H)(r,l,i,o+d,t,c,e.paymentFrequency,parseFloat(e.annualIncrease)||0),u="GP"===t?0:(0,s.m6)(r,l,i,e.paymentFrequency,parseFloat(e.annualIncrease)||0),g=(0,s.$z)(l,i,e.paymentFrequency);if(p<15e3)return{paymentCount:g.toString(),lowRange:"No Offer",highRange:"No Offer",deathBenefits:u.toFixed(2)};return{paymentCount:g.toString(),lowRange:m.toFixed(2),highRange:p.toFixed(2),deathBenefits:u.toFixed(2)}}catch(e){return console.error("Error calculating pricing outputs:",e),{paymentCount:"",lowRange:"",highRange:"",deathBenefits:""}}}(e);return{...e,paymentCount:t.paymentCount,lowRange:t.lowRange,highRange:t.highRange,deathBenefits:t.deathBenefits}}return e}))},className:"bg-green-600 hover:bg-green-700 text-white text-sm font-medium py-2 px-6 rounded-lg transition-colors shadow-sm",children:"â–¶ Start Calculations"}),n.jsx("button",{onClick:()=>{if(0===(0,s.p)(e).validRows){alert("No valid data to export. Please ensure you have data with names and amounts.");return}(0,s.pq)(e,{includeCalculations:!0,filename:"pricing-sheet-all-data"})},className:"bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium py-2 px-4 rounded-lg transition-colors shadow-sm",children:"\uD83D\uDCE5 Export Excel"}),n.jsx("a",{href:"/pricing-sheet/debug",className:"bg-purple-600 hover:bg-purple-700 text-white text-sm font-medium py-2 px-4 rounded-lg transition-colors shadow-sm",children:"\uD83D\uDD0D Debug NPV"}),n.jsx("button",{onClick:()=>{h(),window.location.reload()},className:"bg-red-600 hover:bg-red-700 text-white text-sm font-medium py-2 px-4 rounded-lg transition-colors shadow-sm",title:"Clear all data and refresh page",children:"\uD83D\uDD04 Reset"})]})]}),n.jsx("div",{className:"mb-3 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-3",children:(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,n.jsxs)("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Existing Rules"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Data will be automatically populated when files are uploaded"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsxs)("div",{className:"bg-white px-4 py-2 rounded-lg shadow-sm border border-gray-200",children:[n.jsx("span",{className:"text-2xl font-bold text-blue-600",children:e.filter(e=>e.firstName&&e.lastName).length}),n.jsx("span",{className:"text-sm text-gray-600 ml-2",children:"Active Rules"})]}),(0,n.jsxs)("div",{className:"text-right",children:[n.jsx("div",{className:"text-sm text-gray-600",children:"Last Updated"}),n.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Today, 2:30 PM"})]})]})]})}),(0,n.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-12 gap-3",children:[n.jsx("div",{className:"xl:col-span-2 order-2 xl:order-1",children:n.jsx(l,{onLoadMockData:()=>{o(u())},onResetData:()=>{o(p)},onRowsParsed:t=>{let a=t.map((e,t)=>({id:`upload-${Date.now()}-${t}`,gender:e.gender||"",age:e.age||"",firstName:e.firstName||"",lastName:e.lastName||"",insuranceCompany:e.insuranceCompany||"",typeOfPayment:e.typeOfPayment||"",paymentFrequency:e.paymentFrequency||"",paymentStartDate:e.paymentStartDate||"",paymentEndDate:e.paymentEndDate||"",paymentAmount:e.paymentAmount||"",annualIncrease:e.annualIncrease||"0",paymentCount:"",lowRange:"",highRange:"",deathBenefits:"",crmId:e.crmId||"",phone1:e.phone1||"",phone2:e.phone2||"",phone3:e.phone3||"",fullAddress:e.fullAddress||"",streetAddress1:e.streetAddress1||"",streetAddress2:e.streetAddress2||"",city:e.city||"",state:e.state||"",zipCode:e.zipCode||""}));o(a.length>0?a:e)}})}),n.jsx("div",{className:"xl:col-span-10 order-1 xl:order-2",children:n.jsx(d,{rows:e,updateRow:(e,t,a)=>{o(n=>n.map(n=>n.id===e?{...n,[t]:a}:n))},onExportOffersOnly:()=>{let t=e.filter(e=>e.highRange&&""!==e.highRange&&"No Offer"!==e.highRange);if(0===t.length){alert("No offers to export. Please run calculations first and ensure some deals have valid offers.");return}(0,s.pq)(t,{includeCalculations:!0,filename:"pricing-sheet-offers-only"})}})})]})]})})}},2471:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>s,__esModule:()=>r,default:()=>l});let n=(0,a(6843).createProxy)(String.raw`C:\Users\ofran\Desktop\Pricing Sheet\src\app\pricing-sheet\page.tsx`),{__esModule:r,$$typeof:s}=n,l=n.default},7034:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),n=t.X(0,[803,581,695],()=>a(7269));module.exports=n})();